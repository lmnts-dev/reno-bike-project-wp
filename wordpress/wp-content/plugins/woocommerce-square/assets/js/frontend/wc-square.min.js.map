{"version":3,"sources":["wc-square.min.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","prototype","indexOf","jQuery","document","ready","$","window","WC_Square_Payment_Form_Handler","args","this","set_payment_fields","bind","get_form_params","handle_input_event","handle_verify_buyer_response","id","id_dasherized","csc_required","enabled_card_types","square_card_types","ajax_log_nonce","ajax_url","application_id","currency_code","general_error","input_styles","is_3ds_enabled","is_3d_secure_enabled","is_add_payment_method_page","location_id","logging_enabled","form","handle_checkout_page","handle_pay_page","log","handle_add_payment_method_page","params","body","on","val","payment_form","recalculateSize","value","_this","handle_saved_payment_methods","validate_payment_data","$new_payment_method_selection","change","slideUp","slideDown","$parent_row","closest","is","next","show","hide","_this2","submit","_this3","destroy","SqPaymentForm","build","$card_number","$csc","$expiration","$postal_code","_this4","applicationId","locationId","cardNumber","elementId","attr","placeholder","data","expirationDate","cvv","postalCode","inputClass","inputStyles","callbacks","inputEventReceived","event","cardNonceResponseReceived","errors","nonce","cardData","handle_card_nonce_response","unsupportedBrowserDetected","handle_unsupported_browser","paymentFormLoaded","handle_form_loaded","setPostalCode","addClass","$input","eventType","handle_card_brand_change","cardBrand","brand","card_class","c","replace","call","tokenized_card_id","has_nonce","get_tokenized_payment_method_id","has_verification_token","block_ui","verifyBuyer","get_verification_details","requestCardNonce","find","message","handle_errors","log_data","last_4","exp_month","exp_year","billing_postal_code","verification_result","token","verification_details","billingContact","familyName","givenName","email","country","region","city","phone","addressLines","intent","get_intent","amount","get_amount","currencyCode","$save_method_input","save_payment_method","messages","_this5","arguments","undefined","console","error","each","index","ref","type","push","render_errors","unblock_ui","remove","prepend","join","removeClass","unblock","blur","animate","scrollTop","offset","top","block","overlayCSS","background","opacity","ajax_data","action","security","ajax","url"],"mappings":"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","file":"wc-square.min.js"}